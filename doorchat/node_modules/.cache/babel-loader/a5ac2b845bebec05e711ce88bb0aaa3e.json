{"ast":null,"code":"var _jsxFileName = \"/doorchat/src/chat/mainpanel/MainPanel.js\",\n    _s = $RefreshSig$();\n\nimport RoomInfo from './roominfo/RoomInfo';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ChatWindow from './chatwindow/ChatWindow';\nimport TextInput from './textinput/TextInput';\nimport { useState, useEffect } from 'react';\nimport { SERVER_URL } from 'App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n    height: '100%',\n    overflowY: 'auto'\n  }\n});\n\nconst MainPanel = args => {\n  _s();\n\n  const {\n    currentRoom,\n    setCurrentRoom,\n    login\n  } = args;\n  const classes = useStyles();\n  const [messages, setMessages] = useState([]);\n  useEffect(() => {\n    if (currentRoom.id !== undefined) {\n      fetch(`${SERVER_URL}rooms/${currentRoom.id}/messages`).then(resp => {\n        return resp.json();\n      }).then(json => {\n        setMessages(json);\n      }).catch(err => {\n        console.error('Error fetching messages');\n      });\n    }\n  }, [currentRoom]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"main-panel\",\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(RoomInfo, {\n      currentRoom: currentRoom,\n      user: login.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ChatWindow, {\n      messages: messages,\n      user: login.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n      currentRoom: currentRoom,\n      setCurrentRoom: setCurrentRoom,\n      user: login\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 12\n  }, this);\n};\n\n_s(MainPanel, \"7JZPnxp5nmeSos9vIXw9km+oEIc=\", false, function () {\n  return [useStyles];\n});\n\n_c = MainPanel;\nexport default MainPanel;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPanel\");","map":{"version":3,"sources":["/doorchat/src/chat/mainpanel/MainPanel.js"],"names":["RoomInfo","makeStyles","ChatWindow","TextInput","useState","useEffect","SERVER_URL","useStyles","root","width","height","overflowY","MainPanel","args","currentRoom","setCurrentRoom","login","classes","messages","setMessages","id","undefined","fetch","then","resp","json","catch","err","console","error","name"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,qBAArB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,SAASC,QAAT,EAAkBC,SAAlB,QAAmC,OAAnC;AACA,SAASC,UAAT,QAA2B,KAA3B;;AAEA,MAAMC,SAAS,GAAGN,UAAU,CAAC;AACzBO,EAAAA,IAAI,EAAE;AACFC,IAAAA,KAAK,EAAE,MADL;AAEFC,IAAAA,MAAM,EAAE,MAFN;AAGFC,IAAAA,SAAS,EAAE;AAHT;AADmB,CAAD,CAA5B;;AAQA,MAAMC,SAAS,GAAIC,IAAD,IAAU;AAAA;;AACxB,QAAM;AAAEC,IAAAA,WAAF;AAAeC,IAAAA,cAAf;AAA+BC,IAAAA;AAA/B,MAAyCH,IAA/C;AACA,QAAMI,OAAO,GAAGV,SAAS,EAAzB;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIS,WAAW,CAACM,EAAZ,KAAmBC,SAAvB,EAAkC;AAC9BC,MAAAA,KAAK,CAAE,GAAEhB,UAAW,SAAQQ,WAAW,CAACM,EAAG,WAAtC,CAAL,CACKG,IADL,CACUC,IAAI,IAAI;AACV,eAAOA,IAAI,CAACC,IAAL,EAAP;AACH,OAHL,EAIKF,IAJL,CAIUE,IAAI,IAAI;AACVN,QAAAA,WAAW,CAACM,IAAD,CAAX;AACH,OANL,EAOKC,KAPL,CAOWC,GAAG,IAAI;AACVC,QAAAA,OAAO,CAACC,KAAR,CAAc,yBAAd;AACH,OATL;AAUH;AAEJ,GAdQ,EAcN,CAACf,WAAD,CAdM,CAAT;AAeA,sBAAO;AAAK,IAAA,EAAE,EAAC,YAAR;AAAqB,IAAA,SAAS,EAAEG,OAAO,CAACT,IAAxC;AAAA,4BACH,QAAC,QAAD;AAAU,MAAA,WAAW,EAAEM,WAAvB;AAAoC,MAAA,IAAI,EAAEE,KAAK,CAACc;AAAhD;AAAA;AAAA;AAAA;AAAA,YADG,eAEH,QAAC,UAAD;AAAY,MAAA,QAAQ,EAAEZ,QAAtB;AAAgC,MAAA,IAAI,EAAEF,KAAK,CAACc;AAA5C;AAAA;AAAA;AAAA;AAAA,YAFG,eAGH,QAAC,SAAD;AAAW,MAAA,WAAW,EAAEhB,WAAxB;AAAqC,MAAA,cAAc,EAAEC,cAArD;AAAqE,MAAA,IAAI,EAAEC;AAA3E;AAAA;AAAA;AAAA;AAAA,YAHG;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAKH,CAzBD;;GAAMJ,S;UAEcL,S;;;KAFdK,S;AA2BN,eAAeA,SAAf","sourcesContent":["import RoomInfo from './roominfo/RoomInfo';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ChatWindow from './chatwindow/ChatWindow';\nimport TextInput from './textinput/TextInput';\nimport { useState,useEffect } from 'react';\nimport { SERVER_URL } from 'App';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100%',\n        height: '100%',\n        overflowY: 'auto'\n    }\n})\n\nconst MainPanel = (args) => {\n    const { currentRoom, setCurrentRoom, login } = args;\n    const classes = useStyles();\n    const [messages, setMessages] = useState([]);\n\n    useEffect(() => {\n        if (currentRoom.id !== undefined) {\n            fetch(`${SERVER_URL}rooms/${currentRoom.id}/messages`)\n                .then(resp => {\n                    return resp.json();\n                })\n                .then(json => {\n                    setMessages(json);\n                })\n                .catch(err => {\n                    console.error('Error fetching messages');\n                });\n        }\n\n    }, [currentRoom]);\n    return <div id=\"main-panel\" className={classes.root}>\n        <RoomInfo currentRoom={currentRoom} user={login.name}></RoomInfo>\n        <ChatWindow messages={messages} user={login.name}></ChatWindow>\n        <TextInput currentRoom={currentRoom} setCurrentRoom={setCurrentRoom} user={login}></TextInput>\n    </div>\n}\n\nexport default MainPanel;"]},"metadata":{},"sourceType":"module"}